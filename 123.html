<!DOCTYPE html>
<html lang="no">
<head>
  <meta charset="UTF-8">
  <title>K√òL Grill & Pizza | Skarnes - Bestill Take Away</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no, viewport-fit=cover">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <link rel="icon" href="https://bestill.online/img/s-logo.png" type="image/png">
  <script src="https://cdn.jsdelivr.net/gh/Joe12387/detectIncognito@main/dist/es5/detectIncognito.min.js"></script>
  <style>
    body {
      background-color: #2655ad;
      font-family: 'Arial', sans-serif;
      margin: 0;
      padding: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      zoom: 90%;
      font-size: 18px;
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
      
    }
    .container {
      background-color: #4577d3;
      display: flex;
      align-items: center;
      flex-direction: column;
      border: solid #3F51B5;
      border-width: 0 1px;
      min-width: 330px;
      width: 99%;
      max-width: 500px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
      gap: 15px;
    }
    .header {
      background-color: #3F51B5;
      height: 40px;
      color: white;
      width: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 10px 10px 0 0;
      font-weight: bold;
      font-size: 18px;
    }
    .button {
      width: 90%;
      height: 60px;
      box-shadow: 0 7px 20px 3px rgba(0, 0, 0, 0.66);
      background-image: radial-gradient(circle, #219dffcc, #219dffbd, #3e51c057);
      color: white;
      border-radius: 11px;
      cursor: pointer;
      text-align: center;
      line-height: 60px;
      margin-bottom: 20px;
      font-weight: bold;
      font-size: 20px;
    }
    #view-menu > h2 {
    animation: pulse 1.2s infinite;
    margin: 0;
    }
    @keyframes pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.05); }
    }
	.iframe-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.8);
      z-index: 1000;
      display: none;
	  box-sizing: border-box;
    }
    .iframe-container iframe {
      width: 100%;
      height: 100%;
      border: none;
      box-sizing: border-box;
    }
    .close-button img{
	position: absolute;
    bottom: 40px;
    right: 5px;
    z-index: 10001;
    width: 45px;
	animation: pulse 1s infinite;
    }
    #phone-input {
      font-weight: bold;
      letter-spacing: 10px;
      height: 45px;
      width: 98%;
      text-align: center;
      font-size: 23px;
      border: none;
      outline: 0;
      border-bottom: 1px solid;
      box-shadow: 0px 3px 0px 0px #4577d3;
	}
	#phone-input::placeholder {
              letter-spacing: 4px;
        }
    .coupon-info {
      font-weight: 400;
      text-align: center;
      color: #FFEB3B;
      font-size: 19px;
    }
    .coupon-container {
      width: 90%;
      display: flex;
      flex-direction: column;
      align-items: center;
      background-color: #FFF;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
      border-radius: 13px;
      margin-bottom: 15px;
    }
    .coupon-box {
      margin: 10px;
      width: 100%;
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
    }
    .coupon {
      width: 17%;
      height: 100px;
      background-color: #d1c6c6;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: space-evenly;
      border-radius: 10%;
      margin: 1%;
    }
    .coupon-image {
      height: 45px;
      object-fit: contain;
      width: 45px;
    }
    .footer {
      background-color: #3F51B5;
      height: 40px;
      color: white;
      width: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 0 0 10px 10px;
      box-shadow: 0 5px 0 0 #0000004f;
      font-weight: bold;
      font-size: 18px;
    }
    .qr-area {
      background: white;
      display: flex;
      align-items: center;
      justify-content: space-evenly;
      width: 90%;
      padding: 15px 0;
      border-radius: 13px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
      font-size: 16px;
    }
    #qr-code {
      width: 25%;
    }
    .review-button {
    color: white;
    width: 90%;
    height: 60px;
    display: flex;
    background-color: #3F51B5;
    justify-content: center;
    box-shadow: 0 5px 0 0 #0000004f;
    cursor: pointer;
    align-items: center;
    border-radius: 13px;
    font-weight: bold;
    font-size: 17px;
    }
    .counter-container {
	  display: flex;
      background-color: #fff;
      border-radius: 13px;
      box-shadow: 0px 3px 0px 0px #4577d3;
      width: 90%;
      align-items: center;
      justify-content: space-evenly;
      font-size: 16px;
    }
    .counter-title {
	  display: flex;
      font-size: 16px;
      flex-direction: column;
      align-items: center;
	  padding: 0 10px 0 10px;
    }
    .counter {
      display: flex;
    }
    .digit {
      background-color: #3b5998;
      color: white;
      font-size: 20px;
      width: 40px;
      height: 40px;
      display: flex;
      justify-content: center;
      border-radius: 4px;
      margin: 4px;
      align-items: center;
    }
  </style>
</head>
<body>
  <div class="container">
    <div id="status-message" class="header"  style="border-radius:0;height: 50px;">üü¢ √Öpent i dag: 14:00 - 22:00</div>
    <br>
    <div id="view-menu" class="button" onclick="openMenu();"><h2>Se MENY og Bestill</h2></div>
    
      <div class="iframe-container" id="iframe-container">
    <div class="close-button" onclick="closeIframe()"><img src="https://bestill.online/img/btn1.png"></div>
    <iframe src="https://www.foodbooking.com/api/fb/_q_y_w_r6"></iframe>
  </div>

    <h4 class="coupon-info">Den digitale kupongen gjelder for store pizzaer og er automatisk registrert p√• telefonnummeret ditt.</h4>
    <div class="coupon-container">
      <div id="phone-header" class="header">Skriv inn ditt telefonnummer!</div>
      <input id="phone-input" type="tel" placeholder="+47 _ _ _ _ _ _ _ _">
      <div id="coupon-box" class="coupon-box">
        <div class="coupon"> <span>1</span> <img src="https://bestill.online/img/pizza.png" alt="Pizza" class="coupon-image"> </div>
        <div class="coupon"> <span>2</span> <img src="https://bestill.online/img/pizza.png" alt="Pizza" class="coupon-image"> </div>
        <div class="coupon"> <span>3</span> <img src="https://bestill.online/img/pizza.png" alt="Pizza" class="coupon-image"> </div>
        <div class="coupon"> <span>4</span> <img src="https://bestill.online/img/pizza.png" alt="Pizza" class="coupon-image"> </div>
        <div class="coupon"> <span>5</span> <img src="https://bestill.online/img/pizza.png" alt="Pizza" class="coupon-image"> </div>
        <div class="coupon"> <span>6</span> <img src="https://bestill.online/img/pizza.png" alt="Pizza" class="coupon-image"> </div>
        <div class="coupon"> <span>7</span> <img src="https://bestill.online/img/pizza.png" alt="Pizza" class="coupon-image"> </div>
        <div class="coupon"> <span>8</span> <img src="https://bestill.online/img/pizza.png" alt="Pizza" class="coupon-image"> </div>
        <div class="coupon"> <span>9</span> <img src="https://bestill.online/img/pizza.png" alt="Pizza" class="coupon-image"> </div>
        <div class="coupon"> <span>10</span> <img src="https://bestill.online/img/pizza.png" alt="Pizza" class="coupon-image"> </div>
      </div>
      <div class="footer">Kj√∏p 10 pizzaer, f√• den 11. gratis! üéâ</div>
    </div>
    <div class="qr-area">
      <img id="qr-code" src="https://i.hizliresim.com/hpz13bl.png">
      <div id="qr-text"><h4>Ved telefonbestillinger <br> skannes QR-koden av ansatte</h4></div>
    </div>
    <br>

    <div class="counter-container">
      <div class="counter-title"><span>üçï</span><span>Pizzaer solgt</span></div>
      <div class="counter" id="pizza-counter">
        <span class="digit">0</span>
        <span class="digit">5</span>
        <span class="digit">7</span>
        <span class="digit">6</span>
        <span class="digit">7</span>
      </div>
    </div>
    
    <div class="counter-container">
      <div class="counter-title"><span>ü•ô</span><span>Kebaber solgt</span></div>
      <div class="counter" id="kebab-counter">
        <span class="digit">0</span>
        <span class="digit">3</span>
        <span class="digit">7</span>
        <span class="digit">6</span>
        <span class="digit">7</span>
      </div>
    </div>
<br>
    <div class="footer-contact" onclick="window.location.href='mailto:xhitaf@gmail.com';">
    ¬© Bestill.Online Systems 2023 - <span id="year"></span> </div>
    
    <div id="ip-message"></div>
    <br>
  </div>
<script>

    function openMenu() {
      document.getElementById('iframe-container').style.display = 'flex';
        document.body.style.overflow = 'hidden'; // Sayfanƒ±n kaydƒ±rƒ±lmasƒ±nƒ± engelle

    }

    function closeIframe() {
      document.getElementById('iframe-container').style.display = 'none';
        document.body.style.overflow = 'auto'; // Kaydƒ±rmayƒ± geri aktif et
    }

    // Update year dynamically
    document.getElementById('year').textContent = new Date().getFullYear();

    var ua = navigator.userAgent || navigator.vendor || window.opera;
    var isIOS = /iPad|iPhone|iPod/.test(ua) && !window.MSStream;
    var isAndroid = /Android/.test(ua);
    var isHuawei = /Huawei|HONOR/.test(ua);
    var isPC = !isIOS && !isAndroid && !isHuawei;

    detectIncognito().then((result) => {
        if (result.isPrivate) {
            document.getElementById("view-menu").onclick = function() {
                window.open("https://www.foodbooking.com/api/fb/_q_y_w_r6", '_blank');
            };
        } else {
            if (isAndroid || isPC) {
                document.getElementById("view-menu").onclick = openMenu;
            } else {
                document.getElementById("view-menu").onclick = function() {
                    window.location.href = "https://www.foodbooking.com/api/fb/_q_y_w_r6";
                };
            }
        }
    });

    fetch('https://api.ipify.org?format=json')
        .then(response => response.json())
        .then(data => {
            document.getElementById("ip-message").innerHTML = "Din IP-adresse: " + data.ip;

            fetch(`https://ipapi.co/${data.ip}/json/`)
                .then(res => res.json())
                .then(data => {
                    if (data.country_name !== "Norway") {
                        document.body.innerHTML = `
                        <div id="warning" class="coupon-container" style="text-align: center;margin: 0%;padding: 10%;">
                          <div class="warning-icon" style="font-size: 50px; color: #cc0000;">‚ö†Ô∏è</div>
                          <h1 style="color: #cc0000; font-size: 28px; margin-bottom: 20px; text-transform: uppercase;">
                            Advarsel: Viktig Sikkerhetsvarsel
                          </h1>
                          <p>
                            Vi har oppdaget at du fors√∏ker √• bestille fra en lokasjon utenfor Norge.
                            Vi aksepterer ikke bestillinger utenfor v√•rt dekningsomr√•de.
                          </p>
                          <p>
                            Hvis du mener dette er en feil, vennligst kontakt oss umiddelbart p√•
                            telefonnummer <strong><a href="tel:+4741145353">4114 5353</a></strong> for videre avklaring.
                          </p>
                          <p>
                            <strong>Advarsel:</strong> Fors√∏k p√• falske bestillinger, selv ved bruk av VPN, blir sporet. 
                            Gjentatte fors√∏k vil bli rapportert til myndighetene, og vi vil iverksette rettslige skritt.
                          </p>
                          <p>
                            Hvis du har mottatt denne meldingen ved en feil, vennligst kontakt oss umiddelbart.
                          </p>
                        </div>
                      `;
                    }
                })
                .catch(error => console.log('Error fetching location data:', error));
        })
        .catch(error => console.log('Error fetching IP:', error));

    const phoneInput = document.getElementById('phone-input');
    const phoneHeader = document.getElementById('phone-header');
    const qrCode = document.getElementById('qr-code');

    if (localStorage.phoneNumber) updatePhoneNumber(localStorage.phoneNumber);

    phoneInput.addEventListener('input', () => {
      const value = phoneInput.value.replace(/\D/g, '').slice(0, 8);
      phoneInput.value = value;

      if (value.length === 8 && /^[49]/.test(value)) {
        updatePhoneNumber(value);
        localStorage.phoneNumber = value;
      } else {
        phoneHeader.textContent = 'Skriv inn ditt telefonnummer!';
        localStorage.removeItem('phoneNumber');
      }
    });

    function updatePhoneNumber(number) {
      phoneInput.value = number;
      phoneInput.blur();
      phoneHeader.textContent = '‚úÖ Nummeret ditt er registrert!';
      qrCode.src = `https://api.qrserver.com/v1/create-qr-code/?data=bestill.online/kayit.html?n=${number}`;
    }

    function updateStatus() {
      const currentDate = new Date();
      const dayOfWeek = currentDate.getDay();
      const currentHour = currentDate.getHours();
      let statusMessage = document.getElementById("status-message");
      let themeColor = document.querySelector('meta[name="theme-color"]');
      if (!themeColor) {
        themeColor = document.createElement("meta");
        themeColor.name = "theme-color";
        document.head.appendChild(themeColor);
      }
      if (dayOfWeek === 2) {
        statusMessage.textContent = `üö´ Restauranten er stengt p√• Tirsdager.`;
        statusMessage.style.backgroundColor = "#ef4e4b";
        themeColor.content = "#ef4e4b";
      } else if (currentHour >= 14 && currentHour < 22) {
        statusMessage.textContent = `üü¢ √Öpent i dag fra kl. 14:00 til 22:00`;
        statusMessage.style.backgroundColor = "#5ac15e";
        themeColor.content = "#5ac15e";
      } else {
        statusMessage.textContent = `üî¥ Restauranten er stengt n√•.`;
        statusMessage.style.backgroundColor = "#ef4e4b";
        themeColor.content = "#ef4e4b";
      }
    }
    updateStatus();
</script>
</body>
</html>
