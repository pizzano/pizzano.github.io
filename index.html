
<!DOCTYPE html>
<html lang="no">
<head>
  <meta charset="UTF-8">
  <title>KØL Grill & Pizza | Skarnes - Online Take Away Bestilling</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no, viewport-fit=cover">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <link rel="icon" href="https://bestill.online/img/s-logo.png" type="image/png">

  <!-- SEO Meta Tags -->
  <meta name="description" content="Nyt autentiske italienske pizzaer stekt i steinovn fra KØL Grill & Pizza i Skarnes. Vi tilbyr daglig fersk pizza, kebab, burgere og mer. Takeaway. Bestill online nå!">
  <meta name="keywords" content="KØL Grill & Pizza, Skarnes pizza, online pizza bestilling, takeaway, burger, kebab, Italiensk pizza, Sør Odal, Årnes, Ahlen Pizza, Mona Lisa Skarnes">

  <!-- Social Media Meta Tags -->
  <meta property="og:title" content="KØL Grill & Pizza | Skarnes - Online Pizza Bestilling">
  <meta property="og:description" content="Opplev ekte italiensk pizza hos KØL Grill & Pizza. Friske ingredienser og profesjonell steinovn. Takeaway og levering i Skarnes, Sør Odal og Årnes.">
  <meta property="og:url" content="https://bestill.online">
  <meta property="og:type" content="website">
  <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Restaurant",
      "name": "KØL Grill & Pizza",
      "address": {
        "@type": "PostalAddress",
        "streetAddress": "Øgardsvegen 44",
        "addressLocality": "Skarnes",
        "addressRegion": "Sør Odal",
        "postalCode": "2100",
        "addressCountry": "NO"
      },
      "geo": {
        "@type": "GeoCoordinates",
        "latitude": "60.2521748",
        "longitude": "11.6806137"
      },
      "openingHoursSpecification": [{
        "@type": "OpeningHoursSpecification",
        "dayOfWeek": [
          "Monday",
          "Tuesday",
          "Wednesday",
          "Thursday",
          "Friday",
          "Saturday",
          "Sunday"
        ],
        "opens": "14:00",
        "closes": "22:00"
      }],
      "hasMenu": "https://bestill.online/meny"
    }
  </script>
  <script src="https://cdn.jsdelivr.net/gh/Joe12387/detectIncognito@main/dist/es5/detectIncognito.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.4.0"></script>
  <style>

    body {
      background-color: #2655ad;
      font-family: 'Arial', sans-serif;
      margin: 0;
      padding: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      zoom: 90%;
      font-size: 18px;
      
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
      
    }
    .container {
      background-color: #4577d3;
      display: flex;
      align-items: center;
      flex-direction: column;
      border: solid #3F51B5;
      border-width: 0 1px;
      min-width: 330px;
      width: 99%;
      max-width: 500px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
      gap: 15px;
    }
    .header {
      background-color: #3F51B5;
      height: 40px;
      color: white;
      width: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 10px 10px 0 0;
      font-weight: bold;
      font-size: 18px;
    }
    .button {
      width: 90%;
      height: 60px;
      box-shadow: 0 7px 20px 3px rgba(0, 0, 0, 0.66);
      background-image: radial-gradient(circle, #219dffcc, #219dffbd, #3e51c057);
      color: white;
      border-radius: 11px;
      cursor: pointer;
      text-align: center;
      line-height: 60px;
      margin-bottom: 20px;
      font-weight: bold;
      font-size: 20px;
    }
    #view-menu > h2 {
    animation: pulse 1.2s infinite;
    margin: 0;
    }
    @keyframes pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.05); }
    }
    iframe {
    width: 100%;
    height: 100%;
    border: none;
}
   .iframe-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.8);
      z-index: 1000;
      visibility: hidden;  /* Değiştirildi: display:none yerine visibility:hidden */
      opacity: 0;
      transition: visibility 0s, opacity 0.5s;  /* Görünürlük ve opaklık geçişleri */
    }
    .iframe-container.visible {
      visibility: visible;  /* Görünür yapar */
      opacity: 1;  /* Opaklığı arttır */
    }

    .close-button img{
	position: absolute;
    bottom: 40px;
    right: 5px;
    z-index: 10001;
    width: 45px;
	animation: pulse 1s infinite;
    }
    #phone-input {
      font-weight: bold;
      letter-spacing: 10px;
      height: 45px;
      width: 98%;
      text-align: center;
      font-size: 23px;
      border: none;
      outline: 0;
      border-bottom: 1px solid;
      box-shadow: 0px 3px 0px 0px #4577d3;
	}
	#phone-input::placeholder {
              letter-spacing: 4px;
        }
    .coupon-info {
      font-weight: 400;
      text-align: center;
      color: #FFEB3B;
      font-size: 19px;
    }
    .coupon-container {
      width: 90%;
      display: flex;
      flex-direction: column;
      align-items: center;
      background-color: #FFF;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
      border-radius: 13px;
      margin-bottom: 15px;
    }
    .coupon-box {
      margin: 10px;
      width: 100%;
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
    }
    .coupon {
      width: 17%;
      height: 100px;
      background-color: #d1c6c6;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: space-evenly;
      border-radius: 10%;
      margin: 1%;
    }
    .coupon-image {
      height: 45px;
      object-fit: contain;
      width: 45px;
    }
    .footer {
      background-color: #3F51B5;
      height: 40px;
      color: white;
      width: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 0 0 10px 10px;
      box-shadow: 0 5px 0 0 #0000004f;
      font-weight: bold;
      font-size: 18px;
    }
    .qr-area {
	background: white;
    display: flex;
    justify-content: space-evenly;
    width: 90%;
    padding: 15px 0;
    border-radius: 13px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
    font-size: 16px;
    }
    #qr-code {
      width: 25%;
    }
    .review-button {
    color: white;
    width: 90%;
    height: 60px;
    display: flex;
    background-color: #3F51B5;
    justify-content: center;
    box-shadow: 0 5px 0 0 #0000004f;
    cursor: pointer;
    align-items: center;
    border-radius: 13px;
    font-weight: bold;
    font-size: 17px;
    }
    .counter-container {
	  display: flex;
      background-color: #fff;
      border-radius: 13px;
      box-shadow: 0px 3px 0px 0px #4577d3;
      width: 90%;
      align-items: center;
      justify-content: space-evenly;
      font-size: 16px;
    }
    .counter-title, #gratis {
	  display: flex;
      font-size: 16px;
      flex-direction: column;
      align-items: center;
	  padding: 0 10px 0 10px;
    }
    .counter {
      display: flex;
    }
    .digit {
    background-color: #2655ad;
    color: #fffffff5;
    font-size: 20px;
    width: 40px;
    height: 40px;
    display: flex;
    justify-content: center;
    border-radius: 4px;
    margin: 2px;
    align-items: center;
    }
        .gift-container {
        width: 82%;
      background-color: #3F51B5;
      padding: 20px;
      border-radius: 10px;
      text-align: center;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
      color: white
    }
    .gift-input {
width: 95%;
      padding: 10px;

      border: none;
      border-radius: 5px;
font-size: 20px;
font-weight: bold;
      text-align: center;
    }
    .gift-message, .gift-sub-message {
      margin: 10px 0;
      padding: 10px;
      border-radius: 5px;
      font-size: 14px;
    }
    .gift-message {
      background-color: #FFEB3B;
      color: black;
      line-height: 1.8;
    }
    .gift-sub-message {
      background-color: white;
      color: black;
    }
    .gift-qr {
      display: none;
      margin: 10px auto;
      max-width: 120px;
      border-radius: 5px;
    }
  </style>
</head>
<body>
  <div class="container">
    <div id="status-message" class="header"  style="border-radius:0;height: 50px;">🟢 Åpent i dag: 14:00 - 22:00</div>
    <br>
<div id="view-menu" class="button" onclick="openMenu();"><h2>Se MENY og Bestill</h2></div>
      <div class="iframe-container" id="iframe-container">
    <div class="close-button" onclick="closeIframe()"><img src="https://bestill.online/img/btn1.png"></div>
    <iframe src="https://www.foodbooking.com/api/fb/_q_y_w_r6"></iframe>
  </div>

    <h4 class="coupon-info">Den digitale kupongen gjelder for store pizzaer og er automatisk registrert på telefonnummeret ditt.</h4>
    <div class="coupon-container">
      <div id="phone-header" class="header">Skriv inn ditt telefonnummer!</div>
      <input id="phone-input" type="tel" placeholder="+47 _ _ _ _ _ _ _ _">
      <div id="coupon-box" class="coupon-box">

      </div>
          <div id="gratis" style=""></div>
      <div class="footer">Kjøp 10 pizzaer, få den 11. gratis! 🎉</div>
    </div>
    <div class="qr-area">
      <img id="qr-code" src="https://i.hizliresim.com/hpz13bl.png">
      <div id="qr-text" style="text-align: center;"><h4>Manuell kupong registrering</h4><span>Ved telefonbestillinger <br> skannes QR-koden av ansatte</span></div>
    </div>
 <br>
  <div class="gift-container">
    <h3>🎁 Sjekk gavekortsaldo 🔍</h3>
    <input id="gift-phone-input" class="gift-input" type="text" placeholder="Skriv inn mobilnummer" maxlength="8">
    <div id="gift-check-message" class="gift-message" style="display: none;"></div>
    <div id="gift-extra-message" class="gift-sub-message" style="display: none;"></div>
    <img id="gift-qr-code" class="gift-qr" alt="QR Code">
  </div>
 <br>
      <div class="counter-container">
      <div class="counter-title"><span>🍕</span><span>Pizza Teller</span></div>
      <div class="counter" id="pizza-counter">
        <span class="digit">0</span>
        <span class="digit">0</span>
        <span class="digit">0</span>
        <span class="digit">0</span>
        <span class="digit">0</span>
      </div>
    </div>
    
    <div class="counter-container">
      <div class="counter-title"><span>🥙</span><span>Kebab Teller</span></div>
      <div class="counter" id="kebab-counter">
        <span class="digit">0</span>
        <span class="digit">0</span>
        <span class="digit">0</span>
        <span class="digit">0</span>
        <span class="digit">0</span>
      </div>
    </div>
 <div onclick="window.open('https://g.page/r/CaBYA1-Od59LEBM/review', '_blank');" class="button counter-container" style="height: 50px;background: #2b4ead;">
        <div style="animation: pulse 1.2s infinite;">👉 Vurder oss på Google </div>
        <div>⭐⭐⭐⭐⭐ 4.9 </div>
</div>
    <div class="footer-contact" onclick="window.location.href='mailto:xhitaf@gmail.com';" style="color: white;">
    © Bestill.Online Systems 2023 - <span id="year"></span> </div>
    
    <div id="ip-message"></div>
    <br>
  </div>
  
  <script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.14.0/firebase-app.js";
  import { getDatabase, ref, onValue } from "https://www.gstatic.com/firebasejs/9.14.0/firebase-database.js";

  const firebaseConfig = {
    databaseURL: "https://bestill-pizza-default-rtdb.europe-west1.firebasedatabase.app"
  };

  const app = initializeApp(firebaseConfig);
  const db = getDatabase(app);

  const phoneInput = document.getElementById("gift-phone-input"); // Input alanı ID
  const qrCode = document.getElementById("gift-qr-code"); // QR kod alanı ID
  const checkMessage = document.getElementById("gift-check-message"); // Bakiye mesajı ID
  const extraMessage = document.getElementById("gift-extra-message"); // Ek bilgi mesajı ID

  function resetMessages() {
    qrCode.style.display = "none";
    checkMessage.style.display = "none";
    extraMessage.style.display = "none";
  }

  function updateMessages(phone, balance) {
    checkMessage.style.display = "block";
    checkMessage.innerHTML = `Telefonnummer: <b>${phone}</b><br>Nåværende saldo: <b>${balance} NOK</b>`;
    qrCode.style.display = "block";
    qrCode.src = `https://api.qrserver.com/v1/create-qr-code/?data=bestill.online/gavekayit.html?n=${phone}`;
    extraMessage.style.display = "block";
    extraMessage.innerHTML = "For å bruke gavekortet, vennligst vis QR-koden til ansatt.";
  }

  function noBalanceMessage(phone) {
    resetMessages();
    checkMessage.style.display = "block";
    checkMessage.innerHTML = `Telefonnummer: <b>${phone}</b><br>Ingen saldo funnet.`;
  }

  function startRealtimeListener(phone) {
    const giftCardRef = ref(db, `giftcards/${phone}`);

    onValue(giftCardRef, (snapshot) => {
      const data = snapshot.val();
      if (data && data.balance !== undefined) {
        updateMessages(phone, data.balance);
      } else {
        noBalanceMessage(phone);
      }
    });
  }

  phoneInput.addEventListener("input", () => {
    const phone = phoneInput.value.trim();

    if (/^[49]\d{7}$/.test(phone)) {
      localStorage.setItem("giftLastPhoneNumber", phone);
      startRealtimeListener(phone);
    } else {
      resetMessages();
    }
  });

  window.addEventListener("load", () => {
    const lastPhoneNumber = localStorage.getItem("giftLastPhoneNumber");
    if (lastPhoneNumber) {
      phoneInput.value = lastPhoneNumber;
      startRealtimeListener(lastPhoneNumber);
    }
  });
</script>

 <script type="module">
  import {
    initializeApp
  } from "https://www.gstatic.com/firebasejs/9.14.0/firebase-app.js";
  import {
    getDatabase,
    ref,
    onValue,
    runTransaction
  } from "https://www.gstatic.com/firebasejs/9.14.0/firebase-database.js";

  // Firebase yapılandırma
  const app = initializeApp({
    databaseURL: "https://bestill-pizza-default-rtdb.europe-west1.firebasedatabase.app"
  });

  const db = getDatabase(app);

  // Pizza ve Kebab verilerini almak için Firebase'den yolları ayarlıyoruz
  const pizzaRef = ref(db, 'pizza');  // pizza verisi için doğru yol
  const kebabRef = ref(db, 'kebab');  // kebab verisi için doğru yol

  // localStorage'dan telefon numarasını almak için bir fonksiyon
  function getStoredPhoneNumber() {
    return localStorage.getItem('phoneNumber');
  }

  // Kupon verilerini Firebase'den almak ve güncellemek için
  window.updateDatabaseReference = function () {
    const phoneNumber = getStoredPhoneNumber(); // localStorage'dan telefon numarasını al

    const dbRef = ref(db, `${phoneNumber}`); // Telefon numarasını veritabanı referansı olarak kullan
    const pizzaContainer = document.getElementById('coupon-box');
    pizzaContainer.innerHTML = "";

    // Kupon kutucuklarını oluştur
    for (let i = 1; i <= 10; i++) {
      pizzaContainer.innerHTML += `<div class="coupon" id="coupon${i}"> <span>${i}</span> <img src="https://bestill.online/img/pizza.png" alt="Pizza" class="coupon-image"> </div>`;
    }

    // Kupon veritabanındaki veriyi dinle ve UI'yi güncelle
    onValue(dbRef, snapshot => {
      const selectedCount = snapshot.val() || 0; // Kaç kupon biriktirildiğini al
      document.querySelectorAll('.coupon').forEach((box, index) => {
        const isSelected = index < selectedCount;
        // Eğer kupon seçiliyse arka planı yeşil yap
        box.style.backgroundColor = isSelected ? '#18c81f' : '#d1c6c6'; 
        box.querySelector('.coupon-image').style.filter = isSelected ? 'grayscale(0%)' : 'grayscale(100%)';
      });

      // 10 kupon biriktirildiyse kullanıcıya bildirim göster
      if (selectedCount >= 10) {
        document.getElementById('gratis').innerHTML = `
          <div style="margin-bottom: 20px;border: dashed;text-align: center;border-radius: 13px;">
            <h1>GRATULERER!</h1>
            <p>Takk for at du kjøpte 10 store pizzaer!</p>
            <p>Du vil få den 11. pizzaen helt gratis ved din neste bestilling.</p>
            <p>Vis bare QR-koden til betjeningen når du samtidig henter pizzaen.</p>
          </div>`;
        
        // Konfeti animasyonu
        confetti({
          particleCount: 100,
          spread: 70,
          origin: { y: 0.6 }
        });
      } else {
        document.getElementById('gratis').innerHTML = null;
      }
    });
  };

  // Pizza verisini almak için Firebase'den onValue kullanıyoruz
  onValue(pizzaRef, snapshot => {
    const pizzaCount = snapshot.val() || 0; // Firebase'den pizza sayısını al
    console.log("Pizza sayısı:", pizzaCount);
    document.getElementById('pizza-counter').innerHTML = formatCounter(pizzaCount); // Pizza sayacını güncelle
  });

  // Kebab verisini almak için Firebase'den onValue kullanıyoruz
  onValue(kebabRef, snapshot => {
    const kebabCount = snapshot.val() || 0; // Firebase'den kebab sayısını al
    console.log("Kebab sayısı:", kebabCount);
    document.getElementById('kebab-counter').innerHTML = formatCounter(kebabCount); // Kebab sayacını güncelle
  });

  // Sayıları 5 haneli formata çeviren fonksiyon
  function formatCounter(value) {
    return value.toString().padStart(5, '0').split('').map(digit => `<span class="digit">${digit}</span>`).join('');
  }

  // Firebase veritabanına kupon sayısını artırmak için fonksiyon
  window.adjustCount = function (increase) {
    const phoneNumber = getStoredPhoneNumber(); // localStorage'dan telefon numarasını al

    const dbRef = ref(db, `kuponlar/${phoneNumber}`);
    runTransaction(dbRef, currentValue => {
      currentValue = currentValue || 0;
      return increase ? Math.min(currentValue + 1, 10) : Math.max(currentValue - 1, 0); // Kupon sayısını artır veya azalt
    });
  };

    const phoneInput = document.getElementById('phone-input');
    const phoneHeader = document.getElementById('phone-header');
    const qrCode = document.getElementById('qr-code');

    if (localStorage.phoneNumber) updatePhoneNumber(localStorage.phoneNumber);

    phoneInput.addEventListener('input', () => {
      const value = phoneInput.value.replace(/\D/g, '').slice(0, 8);
      phoneInput.value = value;

      if (value.length === 8 && /^[49]/.test(value)) {
        updatePhoneNumber(value);
        localStorage.phoneNumber = value;
		window.updateDatabaseReference();
      } else {
        phoneHeader.textContent = 'Skriv inn ditt telefonnummer!';
        localStorage.removeItem('phoneNumber');
      }
    });

    function updatePhoneNumber(number) {
      phoneInput.value = number;
      phoneInput.blur();
      phoneHeader.textContent = '✅ Nummeret ditt er registrert!';
      qrCode.src = `https://api.qrserver.com/v1/create-qr-code/?data=bestill.online/kayit.html?n=${number}`;
    }


  // Sayfa yüklendiğinde Firebase'den pizza ve kebab sayacını günceller
  window.updateDatabaseReference();
</script>


<script>
    function openMenu() {
      const iframeContainer = document.getElementById('iframe-container');
      iframeContainer.classList.add('visible');  // Görünür yap
      document.body.style.overflow = 'hidden'; // Sayfanın kaydırılmasını engelle
    }

    function closeIframe() {
      const iframeContainer = document.getElementById('iframe-container');
      iframeContainer.classList.remove('visible');  // Gizli yap
      document.body.style.overflow = 'auto'; // Kaydırmayı geri aktif et
    }

    // Update year dynamically
    document.getElementById('year').textContent = new Date().getFullYear();

    var ua = navigator.userAgent || navigator.vendor || window.opera;
    var isIOS = /iPad|iPhone|iPod/.test(ua) && !window.MSStream;
    var isAndroid = /Android/.test(ua);
    var isHuawei = /Huawei|HONOR/.test(ua);
    var isPC = !isIOS && !isAndroid && !isHuawei;

    detectIncognito().then((result) => {
        if (result.isPrivate) {
            document.getElementById("view-menu").onclick = function() {
                window.open("https://www.foodbooking.com/api/fb/_q_y_w_r6", '_blank');
            };
        } else {
            if (isAndroid || isPC) {
                document.getElementById("view-menu").onclick = openMenu;
            } else {
                document.getElementById("view-menu").onclick = function() {
                    window.location.href = "https://www.foodbooking.com/api/fb/_q_y_w_r6";
                };
            }
        }
    });

    fetch('https://api.ipify.org?format=json')
        .then(response => response.json())
        .then(data => {
            document.getElementById("ip-message").innerHTML = "Din IP-adresse: " + data.ip;

            fetch(`https://ipapi.co/${data.ip}/json/`)
                .then(res => res.json())
                .then(data => {
                    if (data.country_name !== "Norway") {
                      document.body.style ="zoom: 100%;";
document.body.innerHTML = `
  <div id="warning" class="coupon-container" style="text-align: center;margin: 0%;padding: 10%;">
    <div class="warning-icon" style="font-size: 50px; color: #cc0000;">⚠️</div>
    <h1 style="color: #cc0000; font-size: 28px; margin-bottom: 20px; text-transform: uppercase;">
      Advarsel: Bestillingsfeil
    </h1>
    <p>Vi har oppdaget at du prøver å bestille fra en lokasjon utenfor Norge.</p>
    <p>Hvis du bruker VPN, vennligst slå den av og prøv igjen. Ved fortsatt feil, kontakt oss på telefon <strong><a href="tel:+4741145353">4114 5353</a></strong> eller send oss en SMS med skjermbilde av feilen for videre hjelp.</p>
    <p><strong>Advarsel:</strong> Denne siden er utstyrt med avanserte sikkerhetssystemer. Alle forsøk på å bruke falske IP-adresser eller bestillinger fra uautoriserte lokasjoner blir sporet nøye. Gjentatte forsøk vil bli rapportert til myndighetene, og rettslige skritt vil bli tatt.</p>
    <h4>Din IP-adresse: ${data.ip}</h4>
    <h4>Landets navn: ${data.country_name}</h4>
  </div>
`;


                    }
                })
                .catch(error => console.log('Error fetching location data:', error));
        })
        .catch(error => console.log('Error fetching IP:', error));


    function updateStatus() {
      const currentDate = new Date();
      const dayOfWeek = currentDate.getDay();
      const currentHour = currentDate.getHours();
      let statusMessage = document.getElementById("status-message");
      let themeColor = document.querySelector('meta[name="theme-color"]');
      if (!themeColor) {
        themeColor = document.createElement("meta");
        themeColor.name = "theme-color";
        document.head.appendChild(themeColor);
      }
      if (dayOfWeek === 2) {
        statusMessage.textContent = `🚫 Restauranten er stengt på Tirsdager.`;
        statusMessage.style.backgroundColor = "#ef4e4b";
        themeColor.content = "#ef4e4b";
      } else if (currentHour >= 14 && currentHour < 22) {
        statusMessage.textContent = `🟢 Åpent i dag fra kl. 14:00 til 22:00`;
        statusMessage.style.backgroundColor = "#5ac15e";
        themeColor.content = "#5ac15e";
      } else {
        statusMessage.textContent = `🔴 Restauranten er stengt nå.`;
        statusMessage.style.backgroundColor = "#ef4e4b";
        themeColor.content = "#ef4e4b";
      }
    }
    updateStatus();
</script>
</body>
</html>
